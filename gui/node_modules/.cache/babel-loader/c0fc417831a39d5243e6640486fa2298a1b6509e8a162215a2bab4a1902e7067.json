{"ast":null,"code":"import React,{useState,useEffect}from'react';import{getAllStudents,deleteStudent}from'../services/api';import'./DeleteStudent.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DeleteStudent=()=>{const[students,setStudents]=useState([]);const[selectedStudentId,setSelectedStudentId]=useState('');useEffect(()=>{const fetchStudents=async()=>{try{const result=await getAllStudents();setStudents(result.data[0]);// Adjusted for response structure\n}catch(error){console.error('Error fetching students:',error);}};fetchStudents();},[]);const handleDelete=async()=>{if(selectedStudentId){try{await deleteStudent(selectedStudentId);alert('Student deleted successfully!');setStudents(students.filter(student=>student.id!==selectedStudentId));}catch(error){console.error('Error deleting student:',error);alert('Error deleting student.');}}else{alert('Please select a student to delete.');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"delete-student\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Delete Student\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"select-box\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"student\",children:\"Select Student:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"student\",value:selectedStudentId,onChange:e=>setSelectedStudentId(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"--Select a Student--\"}),students.map(student=>/*#__PURE__*/_jsx(\"option\",{value:student.id,children:student.fullname},student.id))]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,children:\"Delete Student\"})]});};export default DeleteStudent;","map":{"version":3,"names":["React","useState","useEffect","getAllStudents","deleteStudent","jsx","_jsx","jsxs","_jsxs","DeleteStudent","students","setStudents","selectedStudentId","setSelectedStudentId","fetchStudents","result","data","error","console","handleDelete","alert","filter","student","id","className","children","htmlFor","value","onChange","e","target","map","fullname","onClick"],"sources":["C:/Users/HarshKaushik/OneDrive/Desktop/student/gui/src/pages/DeleteStudent.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getAllStudents, deleteStudent } from '../services/api';\r\nimport './DeleteStudent.css';\r\n\r\nconst DeleteStudent = () => {\r\n  const [students, setStudents] = useState([]);\r\n  const [selectedStudentId, setSelectedStudentId] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchStudents = async () => {\r\n      try {\r\n        const result = await getAllStudents();\r\n        setStudents(result.data[0]); // Adjusted for response structure\r\n      } catch (error) {\r\n        console.error('Error fetching students:', error);\r\n      }\r\n    };\r\n    fetchStudents();\r\n  }, []);\r\n\r\n  const handleDelete = async () => {\r\n    if (selectedStudentId) {\r\n      try {\r\n        await deleteStudent(selectedStudentId);\r\n        alert('Student deleted successfully!');\r\n        setStudents(students.filter(student => student.id !== selectedStudentId));\r\n      } catch (error) {\r\n        console.error('Error deleting student:', error);\r\n        alert('Error deleting student.');\r\n      }\r\n    } else {\r\n      alert('Please select a student to delete.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"delete-student\">\r\n      <h2>Delete Student</h2>\r\n      <div className=\"select-box\">\r\n        <label htmlFor=\"student\">Select Student:</label>\r\n        <select\r\n          id=\"student\"\r\n          value={selectedStudentId}\r\n          onChange={(e) => setSelectedStudentId(e.target.value)}\r\n        >\r\n          <option value=\"\">--Select a Student--</option>\r\n          {students.map(student => (\r\n            <option key={student.id} value={student.id}>\r\n              {student.fullname}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      <button onClick={handleDelete}>Delete Student</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DeleteStudent;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,cAAc,CAAEC,aAAa,KAAQ,iBAAiB,CAC/D,MAAO,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7B,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACW,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAE9DC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAY,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACF,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAAZ,cAAc,CAAC,CAAC,CACrCQ,WAAW,CAACI,MAAM,CAACC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAE;AAC/B,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAClD,CACF,CAAC,CACDH,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAK,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAIP,iBAAiB,CAAE,CACrB,GAAI,CACF,KAAM,CAAAR,aAAa,CAACQ,iBAAiB,CAAC,CACtCQ,KAAK,CAAC,+BAA+B,CAAC,CACtCT,WAAW,CAACD,QAAQ,CAACW,MAAM,CAACC,OAAO,EAAIA,OAAO,CAACC,EAAE,GAAKX,iBAAiB,CAAC,CAAC,CAC3E,CAAE,MAAOK,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CAC/CG,KAAK,CAAC,yBAAyB,CAAC,CAClC,CACF,CAAC,IAAM,CACLA,KAAK,CAAC,oCAAoC,CAAC,CAC7C,CACF,CAAC,CAED,mBACEZ,KAAA,QAAKgB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BnB,IAAA,OAAAmB,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvBjB,KAAA,QAAKgB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBnB,IAAA,UAAOoB,OAAO,CAAC,SAAS,CAAAD,QAAA,CAAC,iBAAe,CAAO,CAAC,cAChDjB,KAAA,WACEe,EAAE,CAAC,SAAS,CACZI,KAAK,CAAEf,iBAAkB,CACzBgB,QAAQ,CAAGC,CAAC,EAAKhB,oBAAoB,CAACgB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAAF,QAAA,eAEtDnB,IAAA,WAAQqB,KAAK,CAAC,EAAE,CAAAF,QAAA,CAAC,sBAAoB,CAAQ,CAAC,CAC7Cf,QAAQ,CAACqB,GAAG,CAACT,OAAO,eACnBhB,IAAA,WAAyBqB,KAAK,CAAEL,OAAO,CAACC,EAAG,CAAAE,QAAA,CACxCH,OAAO,CAACU,QAAQ,EADNV,OAAO,CAACC,EAEb,CACT,CAAC,EACI,CAAC,EACN,CAAC,cACNjB,IAAA,WAAQ2B,OAAO,CAAEd,YAAa,CAAAM,QAAA,CAAC,gBAAc,CAAQ,CAAC,EACnD,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhB,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}